services:
  electricity-bill:
    build: .  # 使用本地 Dockerfile 构建
    container_name: electricity-bill
    restart: unless-stopped
    ports:
      - "9136:5000"
    environment:
      - TZ=Asia/Shanghai
      # 数据库配置（请根据实际情况修改）
      - DB_HOST=${DB_HOST:-111.119.253.196}
      - DB_PORT=${DB_PORT:-8806}
      - DB_USER=${DB_USER:-root}
      - DB_PASSWORD=${DB_PASSWORD:-123456}
      - DB_NAME=${DB_NAME:-dev}
      - DB_CHARSET=${DB_CHARSET:-utf8mb4}
      # 应用配置
      - FETCH_INTERVAL_SECONDS=${FETCH_INTERVAL_SECONDS:-300}
      - HOST=0.0.0.0
      - PORT=5000
      - FLASK_DEBUG=${FLASK_DEBUG:-false}
    networks:
      - electricity-network

networks:
  electricity-network:
    driver: bridge
